namespace = ufc_situations
ufc_situations.1000 = { #Consulate of the Sea
	type = country_event
	title = ufc_situations.1000.title
	desc = ufc_situations.1000.desc
	fire_only_once = yes

	image = "gfx/interface/illustrations/situation/hundred_years_war.dds"
	immediate = {
		situation:rise_of_the_ufc = {
			set_variable = {
				name = rise_of_the_ufc_secondary_mission_counting
				value = flag:UFC_SITUATION_MISSION_2
			}
			set_variable = {
				name = rise_of_the_ufc_secondary_mission_counting_tooltip
				value = flag:UFC_SITUATION_MISSION_2_TT
			}
		}
	}

	option = {
		name = ufc_situations.1000.a
		custom_tooltip = ufc_situations.1000.tt
		change_variable = {
			name = rise_of_the_ufc_secondary_mission_counting_0
			value = flag:UFC_SITUATION_SECONDARY_MISSION_1
		}
	}
}

ufc_situations.1100 = { #Consulate of the Sea
	type = country_event
	title = ufc_situations.1100.title
	desc = ufc_situations.1100.desc
	fire_only_once = yes

	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		international_organization:ufc_trade_association = {
			set_variable = { name = ufc_gra_payment_multiplier value = 1}
		}
	}

	option = {
		name = ufc_situations.1100.a
		custom_tooltip = ufc_situations.1100.tt
		change_variable = {
			name = rise_of_the_ufc_mission_counting
			value = flag:UFC_SITUATION_MISSION_2
		}
	}
}

ufc_situations.1105 = { #Consulate of the Sea
	type = country_event
	title = ufc_situations.1105.title
	desc = ufc_situations.1105.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = UFC
		from = 1339.1.1
		to = 1339.3.1
		monthly_chance = 100
	}
	illustration_tags = {
		10 = regular
		10 = interior
	}

	immediate = {
		create_character = {
			dynasty = dynasty:nasrid_dynasty
			first_name = name_muhammad
			last_name = "nasrid_dynasty"
			adm = 0
			dip = 0
			mil = 0
			culture = culture:andalusi
			birth_location = location:granada
			religion = religion:sunni
			birth_date = 1339.1.4
			estate = estate_type:crown_estate
			father = character:gra_yusuf_i_nasrid
			save_scope_as = target_character
		}
	}

	option = {
		name = ufc_situations.1105.a
		add_gold = {
			value = root.monthly_income_trade_and_tax
			multiply = -6
		}
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				add = -0.1
			}
		}
		custom_tooltip = ufc_situations.1105.a.tt
		custom_tooltip = ufc_situations.medium_descent.tt
	}

	option = {
		name = ufc_situations.1105.b
		add_inflation = -0.01
	}
}

ufc_situations.1110 = {
	type = country_event
	title = ufc_situations.1110.title
	desc = ufc_situations.1110.desc
	fire_only_once = yes
	dynamic_historical_event = {
		tag = UFC
		from = 1338.2.1
		to = 1348.2.1
		monthly_chance = 33
	}
	illustration_tags = {
		10 = regular
		10 = interior
	}
	option = {
		name = ufc_situations.1110.a
		add_gold = {
			value = root.monthly_income_trade_and_tax
			multiply = -3
		}
		create_market = {
			builder = c:GRA
			location = location:malaga
			price = price:create_market
			instant = no
			price_modifier = 0
		}
		international_organization:ufc_trade_association = {
			change_variable = {
				name = merchant_fenderal_impact
				add = -5
			}
		}
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				add = -0.1
			}
		}
		custom_tooltip = ufc_situations.1110.a.tt
		custom_tooltip = ufc_situations.medium_descent.tt
		c:MOR = {
			add_opinion = {
				modifier = opinion_ufc_unsatisfied
				target = c:UFC
			}
		}
	}

	option = {
		name = ufc_situations.1110.b
		c:MOR = {
			add_opinion = {
				modifier = opinion_ufc_satisfied
				target = c:UFC
			}
		}
	}
}

#random events

ufc_situations.1115 = { #Consulate of the Sea
	type = country_event
	title = ufc_situations.1115.title
	desc = ufc_situations.1115.desc

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {

	}

	option = {
		name = ufc_situations.1115.a
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				add = -0.05
			}
		}
		custom_tooltip = ufc_situations.small_descent.tt
	}
}

ufc_situations.1120 = { #Consulate of the Sea
	type = country_event
	title = ufc_situations.1120.title
	desc = ufc_situations.1120.desc

	illustration_tags = {
		10 = angry
		10 = exterior
	}

	immediate = {

	}

	option = {
		name = ufc_situations.1120.a
		add_gold = {
			value = root.monthly_income_trade_and_tax
			multiply = 4
		}
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				add = 0.05
			}
		}
		custom_tooltip = ufc_situations.small_ascend.tt
	}
	option = {
		name = ufc_situations.1120.b
		add_gold = {
			value = root.monthly_income_trade_and_tax
			multiply = -1
		}
	}
}

ufc_situations.1125 = { #Consulate of the Sea
	type = country_event
	title = ufc_situations.1125.title
	desc = ufc_situations.1125.desc

	illustration_tags = {
		10 = happy
		10 = exterior
	}
	trigger = {
		root.manpower_percentage >= 0.25
		root.monthly_manpower >= 10
		international_organization:ufc_trade_association.var:ufc_gra_payment_multiplier >= 0.05
	}
	immediate = {

	}

	option = {
		name = ufc_situations.1125.a
		add_manpower = {
			value = root.monthly_manpower
			multiply = -10
		}
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				add = -0.05
			}
		}
		custom_tooltip = ufc_situations.small_descent.tt
	}
	option = {
		name = ufc_situations.1125.b
	}
}

ufc_situations.1130 = { #Consulate of the Sea
	type = country_event
	title = ufc_situations.1130.title
	desc = ufc_situations.1130.desc

	illustration_tags = {
		10 = happy
		10 = exterior
	}
	trigger = {
		root.sailors_percentage >= 0.25
		root.monthly_sailors >= 10
	}
	immediate = {

	}

	option = {
		name = ufc_situations.1130.a
		add_sailors = {
			value = root.monthly_sailors
			multiply = -10
		}
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				add = -0.05
			}
		}
		custom_tooltip = ufc_situations.small_descent.tt
	}
	option = {
		name = ufc_situations.1130.b
	}
}

ufc_situations.1135 = { #Consulate of the Sea
	type = country_event
	title = ufc_situations.1135.title
	desc = ufc_situations.1135.desc

	illustration_tags = {
		10 = happy
		10 = exterior
	}
	trigger = {

	}
	immediate = {

	}

	option = {
		name = ufc_situations.1135.a
		location:granada = {
			market = {
				add_food_percentage = 0.25
			}
		}
		add_gold = {
			value = root.monthly_income_trade_and_tax
			multiply = -6
		}
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				add = -0.05
			}
		}
		custom_tooltip = ufc_situations.small_descent.tt
	}
	option = {
		name = ufc_situations.1135.b
		add_gold = {
			value = root.monthly_income_trade_and_tax
			multiply = 3
		}
	}
}

ufc_situations.1140 = { #Consulate of the Sea
	type = country_event
	title = ufc_situations.1140.title
	desc = ufc_situations.1140.desc

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {

	}

	option = {
		name = ufc_situations.1140.a
		location:granada = {
			market = {
				add_goods_supply = { goods = goods:silver amount = market_goods_weak_gain }
			}
		}
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				add = -0.05
			}
		}
		custom_tooltip = ufc_situations.small_descent.tt
		international_organization:ufc_trade_association = {
			change_variable = {
				name = merchant_fenderal_impact
				add = -5
			}
		}
		custom_tooltip = ufc_io.influence_small_descend.tt
	}
	option = {
		name = ufc_situations.1140.b
		add_gold = {
			value = root.monthly_income_trade_and_tax
			multiply = 3
		}
		location:granada = {
			market = {
				add_goods_supply = { goods = goods:silver amount = market_goods_mild_gain }
			}
		}
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				add = -0.05
			}
		}
		custom_tooltip = ufc_situations.small_descent.tt
		international_organization:ufc_trade_association = {
			change_variable = {
				name = merchant_fenderal_impact
				add = -5
			}
		}
		custom_tooltip = ufc_io.influence_small_descend.tt
		c:GRA = {
			add_inflation = inflation_mild_penalty
		}
	}
	option = {
		name = ufc_situations.1140.c
		international_organization:ufc_trade_association = {
			change_variable = {
				name = merchant_fenderal_impact
				add = 5
			}
		}
		custom_tooltip = ufc_io.influence_small_ascend.tt
	}
}


ufc_situations.1145 = {
	type = country_event
	title = ufc_situations.1145.title
	desc = ufc_situations.1145.desc

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {

	}
	option = {
		name = ufc_situations.1145.a
		add_gold = {
			value = root.monthly_income_trade_and_tax
			multiply = -3
		}
		set_local_variable = {
			name = ufc_var_current_income
			value = root.monthly_income_trade_and_tax
		}
		trigger_event_non_silently = {
			id = ufc_situations.1150
			years = 2
		}
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				add = -0.05
			}
		}
		custom_tooltip = ufc_situations.small_descent.tt
	}
	option = {
		name = ufc_situations.1145.b
	}
}

ufc_situations.1150 = {
	type = country_event
	title = ufc_situations.1150.title
	desc = ufc_situations.1150.desc

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	option = {
		name = ufc_situations.1150.a
		add_gold = {
			value = root.local_var:ufc_var_current_income
			multiply = 3
		}
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				add = -0.05
			}
		}
		custom_tooltip = ufc_situations.small_descent.tt
	}
}

ufc_situations.1155 = {
	type = country_event
	title = ufc_situations.1155.title
	desc = ufc_situations.1155.desc

	illustration_tags = {
		10 = happy
		10 = exterior
	}

	immediate = {
		set_variable = rise_of_the_ufc_allow_centralized_trade_federations
	}
	option = {
		name = ufc_situations.1155.a
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				multiply = 0
			}
		}
		custom_tooltip = ufc_situations.never_pay_for_alhambra.tt
	}
	option = {
		name = ufc_situations.1155.b
		international_organization:ufc_trade_association = {
			change_variable = {
				name = ufc_gra_payment_multiplier
				multiply = 0
			}
		}
		custom_tooltip = ufc_situations.never_pay_for_alhambra.tt
		add_policy = policy:centralized_trade_federations
	}
}

ufc_situations.1200 = {
	type = country_event
	title = ufc_situations.1200.title
	desc = ufc_situations.1200.desc

	illustration_tags = {
		10 = exterior
	}
}